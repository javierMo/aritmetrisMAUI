<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:render="clr-namespace:Aritmetris.Rendering"
             x:Class="Aritmetris.Pages.GamePage"
             BackgroundColor="#121212"
             Padding="12">
  <Grid RowDefinitions="Auto,*,Auto">
    <Grid Grid.Row="0" ColumnDefinitions="*,Auto" Padding="0,8,0,8">
      <VerticalStackLayout Grid.Column="0">
        <Label Text="AR1+metris" FontSize="24" FontAttributes="Bold" TextColor="White"/>
        <Label x:Name="ObjectiveLabel" Text="Objetivo: 0" FontSize="14" TextColor="LightGray"/>
      </VerticalStackLayout>
      <VerticalStackLayout Grid.Column="1" Spacing="2" HorizontalOptions="End">
        <Label Text="Siguiente" FontSize="14" TextColor="White" HorizontalTextAlignment="Center"/>
        <render:NextPieceView x:Name="NextPieceView" WidthRequest="120" HeightRequest="60"/>
      </VerticalStackLayout>
    </Grid>
    <render:GameRenderer x:Name="BoardView" Grid.Row="1" VerticalOptions="FillAndExpand" HorizontalOptions="FillAndExpand"/>
    <Grid Grid.Row="2" ColumnDefinitions="*,*,*" Padding="0,8,0,0">
      <VerticalStackLayout>
        <Label Text="Nivel" FontSize="12" TextColor="LightGray"/>
        <Label x:Name="LevelLabel" Text="1" FontSize="20" FontAttributes="Bold" TextColor="White"/>
      </VerticalStackLayout>
      <VerticalStackLayout>
        <Label Text="Puntos" FontSize="12" TextColor="LightGray"/>
        <Label x:Name="ScoreLabel" Text="0" FontSize="20" FontAttributes="Bold" TextColor="White"/>
      </VerticalStackLayout>
      <VerticalStackLayout>
        <Label Text="Objetivo" FontSize="12" TextColor="LightGray"/>
        <Label x:Name="TargetLabel" Text="0" FontSize="20" FontAttributes="Bold" TextColor="White"/>
      </VerticalStackLayout>
    </Grid>
    <Grid x:Name="GameOverOverlay" IsVisible="False" Grid.RowSpan="3" BackgroundColor="#A0000000">
      <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center" Spacing="16">
        <Label Text="GAME OVER" FontSize="48" FontAttributes="Bold" TextColor="White" HorizontalTextAlignment="Center"/>
        <Button Text="Volver al menÃº" Clicked="OnBackToMenu" BackgroundColor="#6C5CE7" TextColor="White" CornerRadius="16" Padding="16,12"/>
      </VerticalStackLayout>
    </Grid>
  </Grid>
</ContentPage>